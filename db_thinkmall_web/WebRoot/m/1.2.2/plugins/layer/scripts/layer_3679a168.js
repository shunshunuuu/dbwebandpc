/*创建时间hSea 2015-10-30 13:54:14 PM */
!function(a,b){var c,d,e,f={iE6:!-[1]&&!a.XMLHttpRequest,times:0};f.getPath=function(){var a=document.scripts||c("script"),b=a[a.length-1].src;return b.substring(0,b.lastIndexOf("/")+1)},f.load=function(){},this.layer={v:"1.6.0",ready:function(a){var b="#layerCss";return c(b).ready(function(){a()})},alert:function(a,b,d,e){return c.layer({dialog:{msg:a,type:b,yes:e},title:d,area:["auto","auto"]})},confirm:function(a,b,d,e){return c.layer({dialog:{msg:a,type:4,btns:2,yes:b,no:e},title:d})},msg:function(a,d,e,f){return(""==a||a==b)&&(a="&nbsp;"),d===b&&(d=2),c.layer({dialog:{msg:a,type:e},time:d,title:["",!1],closeBtn:["",!1],end:function(){f&&f()}})},tips:function(a,b,d,e,f,g){return c.layer({type:4,shade:!1,time:d,maxWidth:e,tips:{msg:a,guide:f,follow:b,style:g}})},load:function(a,b,d){var e=!0;return 3===b&&(e=!1),c.layer({time:a,shade:d,loading:{type:b},border:[10,.3,"#000",e],type:3,title:["",!1],closeBtn:[0,!1]})}},e=function(a){f.times++,this.index=f.times;var b=this.config;this.config=c.extend({},b,a),this.config.dialog=c.extend({},b.dialog,a.dialog),this.config.page=c.extend({},b.page,a.page),this.config.iframe=c.extend({},b.iframe,a.iframe),this.config.loading=c.extend({},b.loading,a.loading),this.config.tips=c.extend({},b.tips,a.tips),this.creat()},e.pt=e.prototype,e.pt.config={type:0,shade:[.3,"#000",!0],shadeClose:!1,fix:!0,move:[".xubox_title",!0],moveOut:!1,title:["信息",!0],offset:["200px","50%"],area:["310px","auto"],closeBtn:[0,!0],time:0,bgcolor:"#fff",border:[8,.3,"#000",!0],zIndex:19891014,maxWidth:400,dialog:{btns:1,btn:["确定","取消"],type:3,msg:"",yes:function(a){layer.close(a)},no:function(a){layer.close(a)}},page:{dom:"#xulayer",html:"",url:""},iframe:{src:"http://sentsin.com"},loading:{type:0},tips:{msg:"",follow:"",guide:0,isGuide:!0,style:["background-color:#FF9900; color:#fff;","#FF9900"]},success:function(){},close:function(a){layer.close(a)},end:function(){}},e.pt.type=["dialog","page","iframe","loading","tips"],e.pt.space=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;return a=a||"",b=this.index,c=this.config,d=c.dialog,e=this.dom,f=-1===d.type?"":'<span class="xubox_msg xulayer_png32 xubox_msgico xubox_msgtype'+d.type+'"></span>',g=['<div class="xubox_dialog">'+f+'<span class="xubox_msg xubox_text" style="'+(f?"":"padding-left:20px")+'">'+d.msg+"</span></div>",'<div class="xubox_page">'+a+"</div>",'<iframe allowtransparency="true" id="'+e.ifr+b+'" name="'+e.ifr+b+'" onload="$(this).removeClass(\'xubox_load\');" class="'+e.ifr+'" frameborder="0" src="'+c.iframe.src+'"></iframe>','<span class="xubox_loading xubox_loading_'+c.loading.type+'"></span>','<div class="xubox_tips" style="'+c.tips.style[0]+'"><div class="xubox_tipsMsg">'+c.tips.msg+'</div><i class="layerTipsG"></i></div>'],h="",i="",j=c.zIndex+b,k="z-index:"+j+"; background-color:"+c.shade[1]+"; opacity:"+c.shade[0]+"; filter:alpha(opacity="+100*c.shade[0]+");",c.shade[2]&&(h='<div times="'+b+'" id="xubox_shade'+b+'" class="xubox_shade" style="'+k+'"></div>'),c.zIndex=j,l="",m="",n="z-index:"+(j-1)+";  background-color: "+c.border[2]+"; opacity:"+c.border[1]+"; filter:alpha(opacity="+100*c.border[1]+"); top:-"+c.border[0]+"px; left:-"+c.border[0]+"px;",c.border[3]&&(i='<div id="xubox_border'+b+'" class="xubox_border" style="'+n+'"></div>'),c.closeBtn[1]&&(m='<a class="xubox_close xulayer_png32 xubox_close'+c.closeBtn[0]+'" href="javascript:;"></a>'),c.title[1]&&(l='<h2 class="xubox_title"><em>'+c.title[0]+"</em></h2>"),o='<div times="'+b+'" showtime="'+c.time+'" style="z-index:'+j+'" id="'+e.lay+b+'" class="'+e.lay+'"><div style="background-color:'+c.bgcolor+"; z-index:"+j+'" class="xubox_main">'+g[c.type]+l+m+'<span class="xubox_botton"></span></div>'+i+"</div>",[h,o]},e.pt.dom={lay:"xubox_layer",ifr:"xubox_iframe"},e.pt.creat=function(){var a,b,e,g,h,i,j=this,k="",l=this.config,m=l.dialog,n=j.config.title,o=j.dom;switch(n.constructor===Array||(j.config.title=[n,!0]),n===!1&&(j.config.title=[n,!1]),a=l.page,b=c("body"),e=function(a){var a=a||"";k=j.space(a),b.append(k[0])},l.type){case 1:if(""!==a.html)e('<div class="xuboxPageHtml">'+a.html+"</div>"),b.append(k[1]);else if(""!==a.url)e('<div class="xuboxPageHtml" id="xuboxPageHtml'+j.index+'">'+a.html+"</div>"),b.append(k[1]),c.get(a.url,function(b){c("#xuboxPageHtml"+j.index).html(b),a.ok&&a.ok(b)});else{if(0!=c(a.dom).parents(".xubox_page").length)return;e(),c(a.dom).show().wrap(k[1])}break;case 2:e(),b.append(k[1]);break;case 3:l.title=["",!1],l.area=["auto","auto"],l.closeBtn=["",!1],c(".xubox_loading")[0]&&layer.close(c(".xubox_loading").parents("."+o.lay).attr("times")),e(),b.append(k[1]);break;case 4:l.title=["",!1],l.area=["auto","auto"],l.fix=!1,l.border=!1,c(".xubox_tips")[0]&&layer.close(c(".xubox_tips").parents("."+o.lay).attr("times")),e(),b.append(k[1]),c("#"+o.lay+f.times).find(".xubox_close").css({top:5,right:5});break;default:l.title[1]||(l.area=["auto","auto"]),c(".xubox_dialog")[0]&&layer.close(c(".xubox_dialog").parents("."+o.lay).attr("times")),e(),b.append(k[1])}if(g=f.times,this.layerS=c("#xubox_shade"+g),this.layerB=c("#xubox_border"+g),this.layerE=c("#"+o.lay+g),h=this.layerE,this.layerMian=h.find(".xubox_main"),this.layerTitle=h.find(".xubox_title"),this.layerText=h.find(".xubox_text"),this.layerPage=h.find(".xubox_page"),this.layerBtn=h.find(".xubox_botton"),i=-1!=l.offset[1].indexOf("px")?parseInt(l.offset[1]):"50%"==l.offset[1]?l.offset[1]:parseInt(l.offset[1])/100*d.width(),h.css({left:i+l.border[0],width:l.area[0],height:l.area[1]}),l.fix?h.css({top:parseInt(l.offset[0])+l.border[0]}):h.css({top:parseInt(l.offset[0])+d.scrollTop()+l.border[0],position:"absolute"}),0==l.type&&l.title[1])switch(m.btns){case 0:j.layerBtn.html("").hide();break;case 2:j.layerBtn.html('<a href="javascript:;" class="xubox_yes xubox_botton2">'+m.btn[0]+'</a><a href="javascript:;" class="xubox_no xubox_botton3">'+m.btn[1]+"</a>");break;default:j.layerBtn.html('<a href="javascript:;" class="xubox_yes xubox_botton1">'+m.btn[0]+"</a>")}"auto"===h.css("left")?(h.hide(),setTimeout(function(){h.show(),j.set(g)},500)):j.set(g),l.time<=0||j.autoclose(),this.callback()},e.pt.set=function(a){var b,e,g,h,i,j,k,l,m,n,o,p,q=this,r=this.layerE,s=this.config,t=(s.dialog,s.page),u=q.dom;switch(q.autoArea(a),s.title[1]?f.iE6&&q.layerTitle.css({width:r.outerWidth()}):4!=s.type&&r.find(".xubox_close").addClass("xubox_close1"),r.attr({type:q.type[s.type]}),s.type){case 1:r.find(t.dom).addClass("layer_pageContent"),s.shade[2]&&r.css({zIndex:s.zIndex+1}),s.title[1]&&q.layerPage.css({top:q.layerTitle.outerHeight()});break;case 2:b=r.find("."+u.ifr),e=r.height(),b.addClass("xubox_load").css({width:r.width()}),s.title[1]?b.css({top:q.layerTitle.height(),height:e-q.layerTitle.height()}):b.css({top:0,height:e}),f.iE6&&b.attr("src",s.iframe.src);break;case 4:g=c(s.tips.follow),h=g.offset().top,i=h-r.outerHeight(),j=g.offset().left,k=j,l=s.tips.style[1],m=r.outerHeight(),n=r.outerWidth(),o=r.find(".layerTipsG"),n>s.maxWidth&&r.width(s.maxWidth),1===s.tips.guide?(p=d.width()-k-n-r.outerWidth()-10,i=h,p>0?(k=k+g.outerWidth()+10,o.removeClass("layerTipsL").addClass("layerTipsR").css({"border-right-color":l})):(k=k-r.outerWidth()-10,o.removeClass("layerTipsR").addClass("layerTipsL").css({"border-left-color":l}))):i-d.scrollTop()-12<=0?(i=h+m+10,o.removeClass("layerTipsT").addClass("layerTipsB").css({"border-bottom-color":l})):(i-=10,o.removeClass("layerTipsB").addClass("layerTipsT").css({"border-top-color":l})),s.tips.isGuide||o.remove(),r.css({top:i,left:k});break;default:this.layerMian.css({"background-color":"#fff"}),s.title[1]?this.layerText.css({paddingTop:18+q.layerTitle.outerHeight()}):(r.find(".xubox_msgico").css({top:"10px"}),q.layerText.css({marginTop:12}))}this.move()},e.pt.autoArea=function(){var a,b,d,e,g,h=this,i=h.layerE,j=h.config,k=j.page,l=h.layerMian,m=h.layerBtn,n=h.layerText,o=h.layerPage,p=h.layerB;switch("auto"===j.area[0]&&l.outerWidth()>=j.maxWidth&&i.css({width:j.maxWidth}),a=j.title[1]?h.layerTitle.innerHeight():0,j.type){case 0:b=m.find("a"),d=n.outerHeight()+20,e=b.length>0?b.outerHeight()+20:0;break;case 1:e=0,d=c(k.dom).outerHeight(),"auto"===j.area[0]&&i.css({width:o.outerWidth()}),""!==k.html&&(d=o.outerHeight());break;case 3:g=c(".xubox_loading"),e=0,d=g.outerHeight(),l.css({width:g.width()})}"auto"===j.area[1]&&l.css({height:a+d+e}),p.css({width:i.outerWidth()+2*j.border[0],height:i.outerHeight()+2*j.border[0]}),f.iE6&&"auto"!=j.area[0]&&l.css({width:i.outerWidth()}),"50%"!==j.offset[1]&&""!=j.offset[1]||4===j.type?i.css({marginLeft:0}):i.css({marginLeft:-i.outerWidth()/2})},e.pt.move=function(){var a,b,e,f,g,h=this,i=this.config,j=h.layerE.find(i.move[0]),k=h.dom,l=0,m=0;i.move[1]&&j.attr("move","ok"),i.move[1]?h.layerE.find(i.move[0]).css({cursor:"move"}):h.layerE.find(i.move[0]).css({cursor:"auto"}),c(i.move[0]).on("mousedown",function(h){if(h.preventDefault(),"ok"===c(this).attr("move")){b=!0,a=c(this).parents("."+k.lay);var i=a.offset().left,j=a.offset().top,n=a.width()-6,o=a.height()-6;c("#xubox_moves")[0]||c("body").append('<div id="xubox_moves" class="xubox_moves" style="left:'+i+"px; top:"+j+"px; width:"+n+"px; height:"+o+'px; z-index:2147483584"></div>'),g=c("#xubox_moves"),e=h.pageX-g.position().left,f=h.pageY-g.position().top,l=d.scrollLeft(),"fixed"!==a.css("position")||(m=d.scrollTop())}}),c(document).mousemove(function(c){var h,j,k,l,m;b&&(c.preventDefault(),h=c.pageX-e,j="fixed"===a.css("position")?c.pageY-f:c.pageY-f,i.moveOut||(k=d.width()-g.outerWidth()-i.border[0],l=d.scrollTop(),m=i.border[0]+l,h<i.border[0]&&(h=i.border[0]),h>k&&(h=k),m>j&&(j=m),j>d.height()-g.outerHeight()-i.border[0]+l&&(j=d.height()-g.outerHeight()-i.border[0]+l)),g.css({left:h,top:j}))}).mouseup(function(){var c;try{b&&(c=0==parseInt(a.css("margin-left"))?parseInt(g.css("left")):parseInt(g.css("left"))+-parseInt(a.css("margin-left")),"fixed"===a.css("position")||(c-=a.parent().offset().left),a.css({left:c,top:parseInt(g.css("top"))-m}),g.remove()),b=!1}catch(d){b=!1}i.moveEnd&&i.moveEnd()})},e.pt.autoclose=function(){var a=this,b=this.config.time,c=function(){b--,0===b&&(layer.close(a.index),clearInterval(a.autotime))};this.autotime=setInterval(c,1e3)},f.config={end:{}},e.pt.callback=function(){this.openLayer();var a=this,b=this.layerE,c=this.config,d=c.dialog;this.config.success(b),f.iE6&&this.IE6(),b.find(".xubox_close").off("click").on("click",function(b){b.preventDefault(),c.close(a.index)}),b.find(".xubox_yes").off("click").on("click",function(b){b.preventDefault(),d.yes(a.index)}),b.find(".xubox_no").off("click").on("click",function(b){b.preventDefault(),d.no(a.index)}),this.layerS.off("click").on("click",function(b){b.preventDefault(),a.config.shadeClose&&layer.close(a.index)}),f.config.end[this.index]=c.end},e.pt.IE6=function(){var a,b=this,e=this.layerE,f=c("select"),g=b.dom,h=e.offset().top;a=this.config.fix?function(){e.css({top:c(document).scrollTop()+h})}:function(){e.css({top:h})},a(),d.scroll(a),c.each(f,function(){var a=c(this);a.parents("."+g.lay)[0]||"none"==a.css("display")||a.attr({layer:"1"}).hide()}),this.reselect=function(){c.each(f,function(){var a=c(this);a.parents("."+g.lay)[0]||1==a.attr("layer")&&c("."+g.lay).length<1&&a.removeAttr("layer").show()})}},e.pt.openLayer=function(){var a=this,b=a.dom;layer.index=f.times,layer.autoArea=function(b){return a.autoArea(b)},layer.getIndex=function(a){return c(a).parents("."+b.lay).attr("times")},layer.getChildFrame=function(a,d){return d=d||c("."+b.ifr).parents("."+b.lay).attr("times"),c("#"+b.lay+d).find("."+b.ifr).contents().find(a)},layer.getFrameIndex=function(a){return c(a?"#"+a:"."+b.ifr).parents("."+b.lay).attr("times")},layer.iframeAuto=function(a){var d,e,f,g,h;a=a||c("."+b.ifr).parents("."+b.lay).attr("times"),d=this.getChildFrame("body",a).outerHeight(),e=c("#"+b.lay+a),f=e.find(".xubox_title"),g=0,!f||(g=f.height()),e.css({height:d+g}),h=-parseInt(c("#xubox_border"+a).css("top")),c("#xubox_border"+a).css({height:d+2*h+g}),c("#"+b.ifr+a).css({height:d})},layer.close=function(d){var e,g=c("#"+b.lay+d),h=c("#xubox_moves, #xubox_shade"+d);if(g.attr("type")==a.type[1])if(g.find(".xuboxPageHtml")[0])g.remove();else for(g.find(".xubox_close,.xubox_botton,.xubox_title,.xubox_border").remove(),e=0;3>e;e++)g.find(".layer_pageContent").unwrap().hide();else document.all&&g.find("#"+b.ifr+d).remove(),g.remove();h.remove(),f.iE6&&a.reselect(),"function"==typeof f.config.end[d]&&f.config.end[d](),delete f.config.end[d]},layer.loadClose=function(){var a=c(".xubox_loading").parents("."+b.lay),d=a.attr("times");layer.close(d)},layer.shift=function(b,c){var e,g=a.config,h=f.iE6,i=a.layerE,j=0,k=d.width(),l=d.height();switch(j="50%"==g.offset[1]||""==g.offset[1]?i.outerWidth()/2:i.outerWidth(),e={t:{top:g.border[0]},b:{top:l-i.outerHeight()-g.border[0]},cl:j+g.border[0],ct:-i.outerHeight(),cr:k-j-g.border[0],fn:function(){h&&a.IE6()}},b){case"left-top":i.css({left:e.cl,top:e.ct}).animate(e.t,c,e.fn);break;case"right-top":i.css({left:e.cr,top:e.ct}).animate(e.t,c,e.fn);break;case"left-bottom":i.css({left:e.cl,top:l}).animate(e.b,c,e.fn);break;case"right-bottom":i.css({left:e.cr,top:l}).animate(e.b,c,e.fn)}},layer.setMove=function(){return a.move()},layer.area=function(d,e){var f,g=[c("#"+b.lay+d),c("#xubox_border"+d)],h=g[0].attr("type"),i=g[0].find(".xubox_main"),j=g[0].find(".xubox_title");(h===a.type[1]||h===a.type[2])&&(g[0].css(e),g[1][0]&&g[1].css({width:e.width-2*parseInt(g[1].css("left")),height:e.height-2*parseInt(g[1].css("top"))}),i.css({height:e.height}),h===a.type[2]&&(f=g[0].find("iframe"),f.css({width:e.width,height:j?e.height-j.outerHeight():e.height})),"0px"!==g[0].css("margin-left")&&(e.hasOwnProperty("top")&&g[0].css({top:e.top-(g[1][0]&&parseInt(g[1].css("top")))}),e.hasOwnProperty("left")&&g[0].css({left:e.left+g[0].outerWidth()/2-(g[1][0]&&parseInt(g[1].css("left")))}),g[0].css({marginLeft:-g[0].outerWidth()/2})))},layer.closeAll=function(){var a=c("."+b.lay);c.each(a,function(){var a=c(this).attr("times");layer.close(a)})},layer.zIndex=a.config.zIndex,layer.setTop=function(a){return layer.zIndex=parseInt(a[0].style.zIndex),setZindex=function(){layer.zIndex++,a.css("z-index",layer.zIndex+1)},a.on("mousedown",setZindex),layer.zIndex}},f.run=function(){c=jQuery,d=c(a),this.load(),c.layer=function(a){var b=new e(a);return b.index}},"undefined"!=typeof exports?module.exports=layer:a.layer=layer,f.run()}(window);
/*创建时间 2015-10-30 13:54:14 PM */